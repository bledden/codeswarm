# CodeSwarm Output Directory

This directory contains all code generated by CodeSwarm CLI.

## Directory Structure

```
output/
├── generation_YYYYMMDD_HHMMSS.json    # Full generation results (JSON)
└── code_YYYYMMDD_HHMMSS/              # Extracted code files
    ├── architecture/                   # System design
    │   ├── METADATA.md                # Quality scores and metrics
    │   └── architecture.md            # Architecture document
    ├── implementation/                # Production code
    │   ├── METADATA.md                # Quality scores and metrics
    │   ├── package.json               # Dependencies
    │   ├── app/                       # Application files
    │   └── components/                # Components
    ├── security/                      # Security recommendations
    │   ├── METADATA.md                # Quality scores and metrics
    │   └── [security files]           # Security guidelines/configs
    └── testing/                       # Test suites
        ├── METADATA.md                # Quality scores and metrics
        └── tests/                     # Test files
```

## File Types

### JSON Results (`generation_*.json`)
Complete generation results including:
- Full code output from all 4 agents
- Quality scores (Galileo Observe)
- Latency metrics
- Iteration counts
- RAG patterns used
- Pattern IDs (if stored in Neo4j)

### Code Directories (`code_*`)
Organized by agent with extracted files:

#### Architecture
- System design document (Markdown)
- Component diagrams
- Data flow descriptions
- Technology stack recommendations

#### Implementation
- **Multi-file projects**: All files extracted with proper extensions
  - `package.json` for Node.js projects
  - `.tsx/.ts` files for TypeScript/React
  - `.py` files for Python
  - Proper directory structure (e.g., `app/`, `components/`)
- **Single-file projects**: Single implementation file with detected extension

#### Security
- Security best practices
- Configuration recommendations
- Hardened code examples
- Vulnerability assessments

#### Testing
- Test files with proper extensions (`.test.js`, `.py`, etc.)
- Test setup/configuration
- Mock files
- Test utilities

## Metadata Files

Each agent directory contains a `METADATA.md` with:
- **Quality Score**: Galileo Observe evaluation (0-100)
- **Latency**: Time taken to generate (milliseconds)
- **Iterations**: Number of attempts to meet quality threshold
- **Timestamp**: When the code was generated

## File Extraction

CodeSwarm automatically detects and extracts individual files from agent output:

### Supported Markers
Files are identified by comment markers:
```javascript
// package.json
{...}

// app/page.tsx
export default function Page() {...}
```

```python
# main.py
def main():
    ...

# tests/test_main.py
import unittest
...
```

### Automatic Detection
- File extensions: `.json`, `.js`, `.ts`, `.tsx`, `.jsx`, `.py`, `.html`, `.css`, `.md`, `.yml`, `.yaml`
- Nested directories are created automatically
- Content is cleaned (comment markers removed)

## Usage Examples

### View Latest Generation
```bash
# List all generations
ls -lt output/generation_*.json | head -5

# View latest JSON result
cat $(ls -t output/generation_*.json | head -1) | jq .

# Browse latest code
cd $(ls -td output/code_* | head -1)
```

### Run Generated Code

#### Node.js/React Project
```bash
cd $(ls -td output/code_* | head -1)/implementation
npm install
npm run dev
```

#### Python Project
```bash
cd $(ls -td output/code_* | head -1)/implementation
pip install -r requirements.txt
python main.py
```

### Run Tests
```bash
cd $(ls -td output/code_* | head -1)/testing
npm test  # or pytest, depending on project
```

## Quality Metrics

All code meets CodeSwarm's quality standards:
- **Minimum Score**: 90/100 (configurable)
- **Maximum Iterations**: 3 attempts per agent
- **Multi-Agent Validation**:
  - Architecture: Claude Sonnet 4.5
  - Implementation: GPT-5 Pro
  - Security: Claude Opus 4.1
  - Testing: Grok-4

## Cleanup

Old generations are kept for reference. To clean up:

```bash
# Remove old JSON files (keep last 10)
cd output
ls -t generation_*.json | tail -n +11 | xargs rm -f

# Remove old code directories (keep last 10)
ls -td code_* | tail -n +11 | xargs rm -rf
```

## Git Ignore

By default, this directory is **not tracked** in Git:
- `generation_*.json` files are ignored
- `code_*/` directories are ignored
- Only this README is tracked

To track specific results, remove them from `.gitignore`.

---

**Generated by CodeSwarm** - Multi-Agent AI Coding System
